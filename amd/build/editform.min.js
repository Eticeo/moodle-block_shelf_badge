define("block_shelf_badge/editform",["exports","jquery","block_shelf_badge/select2"],(function(_exports,_jquery,_select){var obj;
/**
   * Javascript to initialise the shelf badge edit_form block.
   *
   * @module block_shelf_badge/editform
   * @copyright   2023 eticeo <contact@eticeo.fr>
   * @copyright   2023 Jeremy Carre <jeremy.carre@eticeo.fr>
   * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj};function block_shelf_badge_on_open(){(0,_jquery.default)('[name="config_user_role[]"]').select2({placeholder:M.util.get_string("select_user_role","block_shelf_badge")})}function block_shelf_badge_waitmodal(instid){var selector;(selector="input[name='blockid'][value='"+instid+"']",new Promise((resolve=>{if(document.querySelector(selector))return resolve(document.querySelector(selector));const observer=new MutationObserver((mutations=>{document.querySelector(selector)&&(resolve(document.querySelector(selector)),observer.disconnect())}));observer.observe(document.body,{childList:!0,subtree:!0})}))).then((elm=>{block_shelf_badge_on_open(),function(instid){(function(selector){return new Promise((resolve=>{if(!document.querySelector(selector))return resolve(document.querySelector(selector));const observer=new MutationObserver((mutations=>{document.querySelector(selector)||(resolve(document.querySelector(selector)),observer.disconnect())}));observer.observe(document.body,{childList:!0,subtree:!0})}))})("input[name='blockid'][value='"+instid+"']").then((elm=>{block_shelf_badge_on_open(),block_shelf_badge_waitmodal(instid)}))}(instid)}))}_exports.init=(instid,waitModal)=>{waitModal?block_shelf_badge_waitmodal(instid):block_shelf_badge_on_open()}}));

//# sourceMappingURL=editform.min.js.map